import threading
import time
from datetime import datetime

# Define a sample task
def task(name, duration):
    start_time = datetime.now()
    print(f"[{start_time}] Task {name} started, will run for {duration} seconds")
    time.sleep(duration)  # Simulate work
    end_time = datetime.now()
    print(f"[{end_time}] Task {name} finished")

# List of tasks: (name, duration in seconds)
tasks = [("A", 3), ("B", 2), ("C", 5)]

# Create and start threads
threads = []
for name, duration in tasks:
    t = threading.Thread(target=task, args=(name, duration))
    threads.append(t)
    t.start()

# Wait for all threads to finish
for t in threads:
    t.join()

print("All tasks completed!")
tasks = [
    ("HighPriority", 2, 1),  # (name, duration, priority)
    ("MediumPriority", 3, 2),
    ("LowPriority", 1, 3)
]

# Sort by priority (lower number = higher priority)
tasks.sort(key=lambda x: x[2])
import signal
import sys

stop_flag = False

def signal_handler(sig, frame):
    global stop_flag
    print("\nGraceful shutdown requested...")
    stop_flag = True

signal.signal(signal.SIGINT, signal_handler)

threads = []
for name, duration in tasks:
    if stop_flag:
        break
    t = threading.Thread(target=task, args=(name, duration))
    threads.append(t)
    t.start()

for t in threads:
    t.join()

print("Scheduler exiting gracefully.")
import asyncio
from datetime import datetime

async def async_task(name, duration):
    start_time = datetime.now()
    print(f"[{start_time}] Task {name} started")
    await asyncio.sleep(duration)
    end_time = datetime.now()
    print(f"[{end_time}] Task {name} finished")

async def main():
    tasks = [async_task("A", 3), async_task("B", 2), async_task("C", 5)]
    await asyncio.gather(*tasks)

asyncio.run(main())

